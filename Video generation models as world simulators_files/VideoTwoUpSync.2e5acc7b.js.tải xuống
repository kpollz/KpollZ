import{r as v,y as C,A as Z,o as s,c as o,d as t,b as p,F as x,G as b,t as j,m as I,a3 as N}from"./entry.3fed4871.js";const R={class:"w-full flex flex-col gap-32 py-24"},F={class:"w-full grid grid-cols-2 gap-24"},O={class:"flex flex-col aspect-w-16 aspect-h-9 overflow-hidden empty:hidden"},S=t("div",{class:"f-caption-1 ui-richtext relative mb-8"},"Input video",-1),W=["src"],q={class:"empty:hidden"},A={class:""},D=["value"],G=["value","selected"],U=["src"],z={class:"flex flex-col gap-24 w-full"},H={key:0,width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J=t("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},null,-1),K=[J],Q={key:1,width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},X=t("path",{d:"M3.24182 2.32181C3.3919 2.23132 3.5784 2.22601 3.73338 2.30781L12.7334 7.05781C12.8974 7.14436 13 7.31457 13 7.5C13 7.68543 12.8974 7.85564 12.7334 7.94219L3.73338 12.6922C3.5784 12.774 3.3919 12.7687 3.24182 12.6782C3.09175 12.5877 3 12.4252 3 12.25V2.75C3 2.57476 3.09175 2.4123 3.24182 2.32181ZM4 3.57925V11.4207L11.4288 7.5L4 3.57925Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},null,-1),Y=[X],ee={__name:"VideoTwoUpSync",props:{data:{type:Object,required:!0}},setup(k){const i=k,f=v(0),h=C(()=>f.value),P=e=>{const c=u.value;f.value=e,l.value=!0,N(()=>{u.value=c,L()})},n=v([]),a=v(!1),l=v(!1),_=e=>c=>{c&&(n.value[e]=c)},V=()=>{l.value||(a.value=!a.value,n.value.forEach(e=>{a.value?e.play():e.pause()}))},T=()=>{l.value||n.value.forEach(e=>{e.play()})},y=()=>{l.value||(a.value=!0)},m=()=>{l.value||(a.value=!1)},g=()=>{l.value=!0,n.value.forEach(e=>{e.pause()})},w=()=>{l.value=!1,a.value&&n.value.forEach(e=>{e.play()})};Z(a,e=>{e||(l.value=!1)});const u=v(0),B=C(()=>i.data.duration),E=()=>{var e;u.value=((e=n.value[0])==null?void 0:e.currentTime)||0,u.value>=B.value&&M()},L=()=>{n.value.forEach(e=>{e.currentTime=u.value})},M=()=>{const e=(f.value+1)%i.data.videos.length;f.value=e,T()};return(e,c)=>(s(),o("div",R,[t("div",F,[t("div",O,[S,t("video",{ref:_(0),onPlay:y,onPause:m,onWaiting:g,onCanplay:w,onTimeupdate:E,class:"w-full h-full object-cover"},[t("source",{src:i.data.original,type:"video/mp4"},null,8,W)],544)]),t("div",q,[t("div",A,[t("select",{class:"whitespace-pre-wrap focus:outline-none focus:ring focus:ring-offset-border-primary appearance-none bg-transparent border-none underline p-0 font-bold f-caption-1 ui-richtext relative mb-8",onChange:c[0]||(c[0]=d=>P(d.target.value)),value:p(h)},[(s(!0),o(x,null,b(i.data.videos,(d,r)=>(s(),o("option",{key:r,value:r,selected:r===p(h)},j(d.label),9,G))),128))],40,D)]),(s(!0),o(x,null,b(i.data.videos,(d,r)=>(s(),o("div",{key:r,class:"aspect-w-16 aspect-h-9 overflow-hidden empty:hidden"},[r==p(h)?(s(),o("video",{key:0,ref_for:!0,ref:_(r+1),onPlay:y,onPause:m,onWaiting:g,onCanplay:w,class:"w-full h-full object-cover"},[t("source",{src:d.src,type:"video/mp4"},null,8,U)],544)):I("",!0)]))),128))])]),t("div",z,[t("button",{onClick:V,class:"text-primary/80 hover:text-primary/100 p-8 rounded-full inline-block mx-auto bg-interactive-primary-hover"},[p(a)?(s(),o("svg",H,K)):(s(),o("svg",Q,Y))])])]))}};export{ee as default};
