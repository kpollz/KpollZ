import{a as K,d as Q,b as X,_ as Y}from"./Footer.fe671c3d.js";import{_ as Z}from"./HeroMeta.d0c6e46a.js";import{_ as M,d as tt,u as et,b as at}from"./usePageTransition.7314f674.js";import{o as n,c as l,d as r,F as k,m as c,a as y,p as B,q as A,k as v,i as _,t as $,G as x,h as I,T as N,K as nt,M as st,r as ot,g as O,N as lt,b as a,J as E,j as W,f as ct,w as it,s as rt,R as mt,L as dt}from"./entry.3fed4871.js";import{o as ut,u as _t,b as pt,_ as ht,a as gt}from"./Blocks.cdfff5b8.js";import{c as ft,_ as yt,b as kt}from"./Landing.1e1005c5.js";import{_ as bt}from"./List.84c8f7be.js";import{_ as vt}from"./BlockTimedTabs.vue.6d03a11a.js";import{_ as Tt,a as xt}from"./ResearchPublications.9ecce282.js";import{s as z,u as wt,_ as St}from"./useHeadSeo.d7f34089.js";import{u as H}from"./usePreviewToken.5c6e66f6.js";import{u as Mt}from"./useErrorPage.4d46afb9.js";import"./Listing.d3b0b0d0.js";import"./slugify.068b7bc9.js";import"./useResourceIndexData.03569f0e.js";/* empty css                   */import"./usePageLoading.037fe9a5.js";import"./lang.4a9029fb.js";const Pt={name:"HeroSummary",props:{releaseSummary:{type:String,default:null},releaseWhyItMatters:{type:String,default:null},releaseSafety:{type:String,default:null}}},Rt={key:0,class:"container"},Lt={class:"cols-container"},Ct={class:"mt-spacing-6 f-body-1 md:w-6-cols lg:ml-2-cols lg:w-6-cols"},Bt=r("h3",{class:"mt-spacing-4 f-meta-1 first:mt-0"},"Summary",-1),At=["innerHTML"],$t=r("h3",{class:"mt-spacing-4 f-meta-1 first:mt-0"},"Why it matters",-1),Et=["innerHTML"],Ht=r("h3",{class:"mt-spacing-4 f-meta-1 first:mt-0"},"Safety",-1),Dt=["innerHTML"];function It(e,i,t,m,p,o){return t.releaseSummary||t.releaseWhyItMatters||t.releaseSafety?(n(),l("div",Rt,[r("div",Lt,[r("div",Ct,[t.releaseSummary?(n(),l(k,{key:0},[Bt,r("div",{innerHTML:t.releaseSummary},null,8,At)],64)):c("",!0),t.releaseWhyItMatters?(n(),l(k,{key:1},[$t,r("div",{innerHTML:t.releaseWhyItMatters},null,8,Et)],64)):c("",!0),t.releaseSafety?(n(),l(k,{key:2},[Ht,r("div",{innerHTML:t.releaseSafety},null,8,Dt)],64)):c("",!0)])])])):c("",!0)}const Nt=M(Pt,[["render",It]]),Ot={name:"HeroWrapper",props:{data:{type:Object,default:null},name:{type:String,default:"Generic"},pageTheme:{type:String,default:"light-gray"}},setup(e){return{options:ut}}},Wt={key:0,class:"container"},zt={class:"cols-container"},Ft=r("h2",{class:"f-heading-3"},"Abstract",-1),Vt={class:"ui-richtext mt-spacing-4"};function Gt(e,i,t,m,p,o){const d=K,s=Z,h=Nt,u=Q;return t.data?(n(),l("div",{key:0,class:v(t.pageTheme&&t.pageTheme!=="light-gray"?`theme-${t.pageTheme} pb-spacing-7`:null)},[y(d,{name:t.name,image:t.data.coverImage,intro:t.data.description,"intro-rich-text":t.data.descriptionRichText,template:t.data.template,title:t.data.title,theme:t.data.colorTheme,differenceMode:t.data.heroBlendMode&&t.data.heroBlendMode==="difference"},null,8,["name","image","intro","intro-rich-text","template","title","theme","differenceMode"]),y(s,B(A(t.data.meta)),null,16),y(h,B(A(t.data.summary)),null,16),t.data.publicationAbstractRichText?(n(),l("div",Wt,[r("div",zt,[r("div",{class:v(`f-body-2 md:w-6-cols lg:ml-2-cols lg:w-6-cols ${t.data.meta.authors||t.data.meta.links&&t.data.meta.links.find(g=>g.href!==null)||t.data.meta.tags.length>0?"mt-spacing-7":"mt-0"}`)},[Ft,r("div",Vt,[t.data.publicationAbstractRichText?(n(),_(u,{key:0,content:t.data.publicationAbstractRichText,options:m.options},null,8,["content","options"])):c("",!0)])],2)])])):c("",!0)],2)):c("",!0)}const jt=M(Ot,[["render",Gt]]);let D=0;const qt={name:"CitationLinks",props:{title:{type:String,default:null},columns:{type:Array,default(){return[]}}},data(){return D+=1,{}},computed:{listId(){return`citationList${D}`},randomizedColumns(){return this.columns.map(e=>e.map(i=>({...i,links:i.random?i.links.sort(()=>.5-Math.random()):i.links})))}}},Ut={class:"container"},Jt={class:"mt-spacing-7 border-t border-primary pt-8 lg:pt-12"},Kt={class:"cols-container"},Qt={class:"xs:w-6-cols md:w-2-cols lg:w-2-cols"},Xt={key:0,class:"f-subhead-2"},Yt={key:0,class:"mt-40 xs:w-6-cols md:w-6-cols md:mt-0 lg:w-10-cols"},Zt={class:"cols-container"},te={class:"cols-container"},ee={key:0,class:"f-subhead-2"},ae={key:1},ne={key:2,class:"f-caption-1 mt-8"};function se(e,i,t,m,p,o){const d=X;return n(),l("div",Ut,[r("div",Jt,[r("div",Kt,[r("div",Qt,[t.title?(n(),l("h3",Xt,$(t.title),1)):c("",!0)]),o.randomizedColumns&&o.randomizedColumns.length?(n(),l("div",Yt,[r("div",Zt,[(n(!0),l(k,null,x(o.randomizedColumns,(s,h)=>(n(),l("div",{key:h,class:v(["xs:w-6-cols md:w-6-cols lg:w-4-cols",{"xs:mt-40 md:mt-48 lg:ml-1-cols lg:mt-0":h===1}])},[r("div",te,[(n(!0),l(k,null,x(s,(u,g)=>(n(),l("div",{key:g,class:v(["xs:w-3-cols md:w-2-cols lg:w-2-cols",{"md:ml-1-cols lg:ml-0 lg:pl-gutter":g===1}])},[u.title?(n(),l("h4",ee,$(u.title),1)):c("",!0),u.links?(n(),l("ul",ae,[(n(!0),l(k,null,x(u.links,(f,T)=>(n(),l("li",{class:v([{"mt-4":T!==0},{"mt-4":T===0&&u.title}]),key:T},[y(d,{label:f.text,url:f.url,modifier:"underline"},null,8,["label","url"])],2))),128))])):c("",!0),u.random?(n(),l("p",ne," (Order randomized each pageload) ")):c("",!0)],2))),128))])],2))),128))])])):c("",!0)])])])}const oe=M(qt,[["render",se]]);function le(e){var m,p,o,d;const{$helpers:i}=I(),t=e.template===N?nt:st;return{type:e.type,id:e.id,acknowledgments:e.acknowledgments,authors:i.researchPublications.authors(e),blocks:(m=e.blocks)==null?void 0:m.default,chapters:e.chapters,contentTypes:e.contentTypes,coverImage:((o=(p=e.media)==null?void 0:p.cover)==null?void 0:o.length)&&e.media.cover[0][t],description:e.description,descriptionRichText:e.descriptionRichText,heroBlendMode:e.heroBlendMode,meta:{date:e.publicationDateFormatted,links:i.researchPublications.links(e),tags:i.researchPublications.tags(e)},models:e.models,publicationAbstract:e.publicationAbstract,publicationAbstractRichText:e.publicationAbstractRichText,publicationDate:e.publicationDate,publicationDateFormatted:e.publicationDateFormatted,recirculationBlocks:(d=e.blocks)==null?void 0:d.recirculation,summary:{releaseSummary:e.releaseSummary,releaseWhyItMatters:e.releaseWhyItMatters,releaseSafety:e.releaseSafety},template:e.template,title:e.heroTitle??e.title,colorTheme:e.colorTheme,seo:e.seo,slug:e.slug,topics:e.topics,citations:[...e.footnotes,...e.references]}}const ce={key:2,class:"ui-recirc"},ie={__name:"ResearchPublication",props:{data:Object},setup(e){var g;const i=e,{footnotes:t,references:m,setCitations:p}=_t(),o=tt(),d=ot(null),s=le(i.data),h=et();p(s.citations),O(()=>{z(i.data)}),o.value=[lt,N].includes((g=s.value)==null?void 0:g.template)?"feature":"simple";function u(f){d.value=f}return(f,T)=>{var R,L,C;const w=Y,S=jt,F=ft,V=ht,P=bt,G=vt,j=oe,q=Tt,U=xt,J=gt;return n(),l(k,null,[y(w,{navigation:(R=a(h))==null?void 0:R.header,quicklinks:((L=a(h))==null?void 0:L.quicklinks)||[],differenceMode:a(s).heroBlendMode&&a(s).heroBlendMode==="difference",heroType:a(s).template,theme:(C=a(s))==null?void 0:C.colorTheme},null,8,["navigation","quicklinks","differenceMode","heroType","theme"]),y(S,{data:a(s),pageTheme:`theme-${a(s).colorTheme}`,name:"Article"},null,8,["data","pageTheme"]),r("div",{class:"relative bg-[color:white]",style:E(a(s).chapters?`padding-top: calc(${a(d)}px + var(--spacing-spacing-7))`:"")},[a(s).chapters?(n(),_(F,{key:0,blocks:a(s).blocks,sticky:!0,onSetPadding:u},null,8,["blocks"])):c("",!0),y(V,{blocks:a(s).blocks,class:v(a(s).citations.length||a(s).authors.length||a(s).acknowledgments?"ui-blocks--padded":""),style:E(a(s).chapters?`margin-top: calc(-1 * (${a(d)}px + var(--spacing-spacing-7)))`:"")},null,8,["blocks","class","style"])],4),y(G,null,{default:W(()=>[a(t)&&a(t).length?(n(),_(P,{key:0,title:"Footnotes",list:a(t),"counter-type":"alphabet","list-type":"footnotes"},null,8,["list"])):c("",!0),a(m)&&a(m).length?(n(),_(P,{key:1,title:"References",list:a(m),"list-type":"references"},null,8,["list"])):c("",!0)]),_:1}),a(s).authors.every(b=>b.length===0)?c("",!0):(n(),_(j,{key:0,title:"Authors",columns:a(s).authors},null,8,["columns"])),Object.values(a(s).acknowledgments).every(b=>b===null||b==="")?c("",!0):(n(),_(q,{key:1,title:"Acknowledgments",content:a(s).acknowledgments},null,8,["content"])),y(U,{topics:a(s).topics,exclude:[a(s).id]},null,8,["topics","exclude"]),a(s).recirculationBlocks?(n(),l("div",ce,[(n(!0),l(k,null,x(a(s).recirculationBlocks,b=>(n(),l("div",{class:v(a(pt)(b,a(s).recirculationBlocks))},[b.blockType==="feature-1up"?(n(),_(J,{key:0,block:b},null,8,["block"])):c("",!0)],2))),256))])):c("",!0)],64)}}},Pe={__name:"[slug]",async setup(e){var s,h;let i,t;const m=ct(),{$api:p}=I(),{data:o,error:d}=([i,t]=it(()=>at(`research-publicaton-or-landing-${m.params.slug}`,()=>Promise.all([p.researchPublicationBySlug({slug:m.params.slug,preview:H().value}),p.landingBySlug({slug:m.params.slug,scope:"research",preview:H().value})]).then(([u,g])=>{const f=u||g;return f||rt({statusCode:400,message:"Page not found"}),f}))),i=await i,t(),i);return Mt({data:o,error:d}),wt({title:(s=o==null?void 0:o.value)==null?void 0:s.title,seo:(h=o==null?void 0:o.value)==null?void 0:h.seo}),O(()=>{z(o==null?void 0:o.value)}),(u,g)=>{const f=ie,T=yt,w=kt,S=St;return a(d)?c("",!0):(n(),_(S,{key:0,id:`${a(o).type}-${a(o).slug}`},{default:W(()=>[a(o).type===mt?(n(),_(f,{key:0,data:a(o)},null,8,["data"])):a(o).type===dt?(n(),l(k,{key:1},[a(o).template==="detail"?(n(),_(T,{key:0,data:a(o)},null,8,["data"])):(n(),_(w,{key:1,data:a(o),brand:!0},null,8,["data"]))],64)):c("",!0)]),_:1},8,["id"]))}}};export{Pe as default};
