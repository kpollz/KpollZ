import{V as u}from"./snippets.3042dd9d.js";import{r as d,g as p,S as m,o as i,c,i as f,b as v,I as y,k,m as l}from"./entry.3fed4871.js";import"./BlockTimedTabs.vue.6d03a11a.js";import"./Footer.fe671c3d.js";import _ from"./LazyAutoPausingVimeo.05ddfc43.js";import"./usePageTransition.7314f674.js";const b={key:0},h=["innerHTML"],T={__name:"InlineVideo",props:{layout:{type:String},data:{type:Object,required:!0,validator:e=>e.src.includes("player.vimeo.com")&&!e.aspectRatio?!1:!!e.src}},setup(e){const r=e,n={autoplay:!0,controls:!1,loop:!0,muted:!0,playsinline:!0,...Object.keys(r.data).filter(t=>u.includes(t)).reduce((t,o)=>({...t,[o]:r.data[o]}),{})},a=d();let s;return p(()=>{!r.data.autoplayInView||!a.value||(s=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting?a.value.play():a.value.pause()})},{threshold:.1}),s.observe(a.value))}),m(()=>{s&&s.disconnect()}),(t,o)=>e.data.src?(i(),c("div",b,[n.src.includes("player.vimeo.com")?(i(),f(v(_),{key:0,data:{src:n.src,aspectRatio:e.data.aspectRatio}},null,8,["data"])):(i(),c("video",y({key:1,ref_key:"video",ref:a},n),null,16)),r.data.caption?(i(),c("div",{key:2,class:k(["f-caption-1 ui-richtext relative mt-8",{"px-[var(--outer-gutter)]":e.layout==="full-bleed"}]),innerHTML:r.data.caption},null,10,h)):l("",!0)])):l("",!0)}};export{T as default};
